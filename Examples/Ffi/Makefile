## ----------------------------------------------------------------------------
##                      EuLisp System 'youtoo'
## ----------------------------------------------------------------------------

## ----------------------------------------------------------------------------
## EuLisp Ffi example Makefile
## ----------------------------------------------------------------------------

ARCH := $(shell uname -m)
include ../../Lib.$(ARCH)/Makefile

## ----------------------------------------------------------------------------

ffi: ffi.em $(ARCH_DIR)/ffi-ext.o | $(ARCH_DIR)/.
	${U2} ${U2FLAGS} ffi -od $(ARCH_DIR) -l level1 -fff ffi-ext

run: ffi
	$(ARCH_DIR)/ffi

## ----------------------------------------------------------------------------

.PHONY: clean
clean:
	@rm -rf $(ARCH_DIR)
	@rm -f ffi.c ffi.h *.i *_.c

.PHONY: distclean
distclean: clean
	@rm -rf platforms

## ----------------------------------------------------------------------------
