<?xml version="1.0" encoding="iso-8859-1" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">  
<!--http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd-->  
<html xmlns="http://www.w3.org/1999/xhtml"  
> 
<head><title>13 Conditions</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)" /> 
<!-- html,1,next,noannex,xhtml --> 
<meta name="src" content="eulisp.tex" /> 
<meta name="date" content="2010-03-29 15:44:00" /> 
<link rel="stylesheet" type="text/css" href="eulisp.css" /> 
</head><body 
>
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="eulispcl14.html" >next</a>] [<a 
href="eulispcl12.html" >prev</a>] [<a 
href="eulispcl12.html#taileulispcl12.html" >prev-tail</a>] [<a 
href="#taileulispcl13.html">tail</a>] [<a 
href="eulisp.html#eulispcl13.html" >up</a>] </p></div>
<h3 class="clauseHead"> 13 <a 
 id="x17-15500013"></a>Conditions</h3>
<a 
 id="dx17-155001"></a>
<a 
 id="dx17-155002"></a>
<!--l. 1--><p class="noindent" >The defined name of this module is <span 
class="cmtt-9">condition</span>.
</p><!--l. 3--><p class="noindent" >The condition system was influenced by the Common Lisp error
system &#x00A0;[<a 
href="eulisp.html#x1-113501616">16<!--tex4ht:ref: Pit-errors --></a>] <a 
 id="dx17-155003"></a>and the Standard ML<a 
 id="dx17-155004"></a> exception mechanism. It is a
simplification of the former and an extension of the latter.
Following standard practice, this text defines the actions
of functions in terms of their normal behaviour. Where an
exceptional behaviour might arise, this has been defined in terms
of a condition. However, not all exceptional situations are
errors. Following Pitman, we use <span 
class="cmti-9">condition</span><a 
 id="dx17-155005"></a> to be a kind of
occasion in a program when an exceptional situation has
been signalled. An error is a kind of condition&#8212;error and
condition are also used as terms for the objects that represent
exceptional situations. A condition can be signalled continuably
by passing a continuation for the resumption to signal. If a
continuation is not supplied then the condition cannot be
continued.
</p><!--l. 19--><p class="noindent" >These two categories are characterized as follows:
</p><!--l. 21--><p class="noindent" >
    </p><ol  class="enumerate1" >
    <li 
  class="enumerate" id="x17-155007x1"><a 
 id="dx17-155008"></a> A  condition  might  be  signalled  when  some  limit  has
    been transgressed and some corrective action is needed
    before processing can resume. For example, memory zone
    exhaustion on attempting to heap-allocate an item can be
    corrected by calling the memory management scheme to
    recover dead space. However, if no space was recovered a
    new kind of condition has arisen. Another example arises
    in  the  use  of  IEEE  floating  point  arithmetic,  where  a
    condition might be signalled to indicate divergence of an
    operation.  A  condition  should  be  signalled  continuably
    when there is a strategy for recovery from the condition.
    </li>
    <li 
  class="enumerate" id="x17-155010x2"><a 
 id="dx17-155011"></a> Alternatively, a condition might be signalled when some
    catastrophic situation is recognized, such as the memory
    manager being unable to allocate more memory or unable
    to recover sufficient memory from that already allocated.
    A  condition  should  be  signalled  non-continuably  when
    there is no reasonable way to resume processing.</li></ol>
<!--l. 42--><p class="noindent" >A   condition   class   is   defined   using   <a 
href="eulispcl14.html#x18-156003r5"><span 
class="cmtt-9">defcondition</span></a>  (see
Section&#x00A0;<a 
href="eulispcl14.html#x18-156003r5">14.0.5<!--tex4ht:ref: defcondition --></a>).  The  definition  of  a  condition  causes  the
creation of a new class of condition. A condition is signalled
using the function <a 
href="eulispcl15.html#x19-170004r14"><span 
class="cmtt-9">signal</span></a>, which has two required arguments
and  one  optional  argument:  an  instance  of  a  condition,  a
resume continuation or the empty list&#8212;the latter signifying
a non-continuable signal&#8212;and a thread. A condition can be
handled using the special form <span 
class="cmtt-9">with-handler</span>, which takes a
function&#8212;the handler function&#8212;and a sequence of forms to
be protected. The initial condition class hierarchy is shown in
Table&#x00A0;<a 
href="#x17-1550122">2<!--tex4ht:ref: condition-class-hierarchy --></a>. </p><hr class="figure" /><div class="figure" 
>  <a 
 id="x17-1550122"></a><a 
 id="x19-181007r1"></a><a 
 id="x20-258001r1"></a><a 
 id="x20-281001r2"></a><span 
class="cmbx-9">??</span><br 
class="newline" />  <a 
href="eulispcl14.html#x18-166002r9"><span 
class="cmtt-9">&#x003C;general-condition&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl16.html#x20-221002r5"><span 
class="cmtt-9">&#x003C;invalid-operator&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl16.html#x20-238002r4"><span 
class="cmtt-9">&#x003C;cannot-update-setter&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl16.html#x20-236002r3"><span 
class="cmtt-9">&#x003C;no-setter&#x003E;</span></a><br 
class="newline" />  <a 
href="eulispcl14.html#x18-168002r12"><span 
class="cmtt-9">&#x003C;environment-condition&#x003E;</span></a><br 
class="newline" />  <a 
href="eulispcl17.html#x21-588002r3"><span 
class="cmtt-9">&#x003C;arithmetic-condition&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl17.html#x21-590002r4"><span 
class="cmtt-9">&#x003C;division-by-zero&#x003E;</span></a><br 
class="newline" />  <a 
href="eulispcl17.html#x21-401004r2"><span 
class="cmtt-9">&#x003C;conversion-condition&#x003E;</span></a><br 
class="newline" />    <span 
class="cmbx-9">??</span><br 
class="newline" />   <span 
class="cmbx-9">??</span><br 
class="newline" />     <a 
href="eulispcl17.html#x21-694002r31"><span 
class="cmtt-9">&#x003C;end-of-stream&#x003E;</span></a><br 
class="newline" />  <span 
class="cmbx-9">??</span><br 
class="newline" />   <a 
href="eulispcl12.html#x16-137006r10"><span 
class="cmtt-9">&#x003C;thread-condition&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl12.html#x16-141002r12"><span 
class="cmtt-9">&#x003C;thread-already-started&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl12.html#x16-139002r11"><span 
class="cmtt-9">&#x003C;wrong-thread-continuation&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl14.html#x18-168004r13"><span 
class="cmtt-9">&#x003C;wrong-condition-class&#x003E;</span></a><br 
class="newline" />  <a 
href="eulispcl11.html#x13-64011r3"><span 
class="cmtt-9">&#x003C;generic-function-condition&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl11.html#x13-96002r3"><span 
class="cmtt-9">&#x003C;no-next-method&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl11.html#x13-86002r7"><span 
class="cmtt-9">&#x003C;non-congruent-lambda-lists&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl11.html#x13-84002r6"><span 
class="cmtt-9">&#x003C;incompatible-method-domain&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl11.html#x13-82002r5"><span 
class="cmtt-9">&#x003C;no-applicable-method&#x003E;</span></a><br 
class="newline" />    <a 
href="eulispcl11.html#x13-88002r8"><span 
class="cmtt-9">&#x003C;method-domain-clash&#x003E;</span></a><br 
class="newline" />
 <br /> <div align="center" class="caption"><table class="caption" 
><tr valign="baseline" class="caption"><td class="id">Figure&#x00A0;2: </td><td  
class="content">Condition class hierarchy</td></tr></table></div>
  </div><hr class="endfigure" />
                                                                                                  
                                                                                                  
<!--l. 91--><div class="crosslinks"><p class="noindent">[<a 
href="eulispcl14.html" >next</a>] [<a 
href="eulispcl12.html" >prev</a>] [<a 
href="eulispcl12.html#taileulispcl12.html" >prev-tail</a>] [<a 
href="eulispcl13.html" >front</a>] [<a 
href="eulisp.html#eulispcl13.html" >up</a>] </p></div>
<!--l. 91--><p class="noindent" ><a 
 id="taileulispcl13.html"></a> </p> 
</body></html> 
