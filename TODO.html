<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
               "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
lang="en" xml:lang="en">
<head>
<title><b>TODO</b></title>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<meta name="generator" content="Org-mode"/>
<meta name="generated" content="2010-06-10 22:36:13 BST"/>
<meta name="author" content="nil"/>
<meta name="description" content=""/>
<meta name="keywords" content=""/>
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  html { font-family: Times, serif; font-size: 12pt; }
  .title  { text-align: center; }
  .todo   { color: red; }
  .done   { color: green; }
  .tag    { background-color: #add8e6; font-weight:normal }
  .target { }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  p.verse { margin-left: 3% }
  pre {
	border: 1pt solid #AEBDCC;
	background-color: #F3F5F7;
	padding: 5pt;
	font-family: courier, monospace;
        font-size: 90%;
        overflow:auto;
  }
  table { border-collapse: collapse; }
  td, th { vertical-align: top; }
  dt { font-weight: bold; }
  div.figure { padding: 0.5em; }
  div.figure p { text-align: center; }
  textarea { overflow-x: auto; }
  .linenr { font-size:smaller }
  .code-highlighted {background-color:#ffff00;}
  .org-info-js_info-navigation { border-style:none; }
  #org-info-js_console-label { font-size:10px; font-weight:bold;
                               white-space:nowrap; }
  .org-info-js_search-highlight {background-color:#ffff00; color:#000000;
                                 font-weight:bold; }
  /*]]>*/-->
</style>
<script type="text/javascript">
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">

<h1 class="title"><b>TODO</b></h1>


<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1 Youtoo </a></li>
<li><a href="#sec-2">2 EuLisp Definition </a></li>
</ul>
</div>
</div>

<div id="outline-container-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Youtoo </h2>
<div class="outline-text-2" id="text-1">

<ul>
<li id="sec-1.1"><span class="done DONE"> DONE</span> Split of word-length dependent functionality into separate modules <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-23 Tue 19:31</span></span><br/>
Split files
<ul>
<li>
<i>Comptime2/64bit/cg-exec.em</i>
</li>
<li>
<i>Comptime2/32bit/cg-exec.em</i>
</li>
</ul>

<p>Into
</p><ul>
<li>
<i>Comptime2/cg-exec.em</i>
</li>
<li>
<i>Comptime2/64bit/cg-exec-nbit.em</i>
</li>
<li>
<i>Comptime2/32bit/cg-exec-nbit.em</i>
</li>
</ul>
</li>
<li id="sec-1.2"><span class="done DONE"> DONE</span> Regenerate all the .c files from the .em files to remove <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-08 Mon 10:14</span></span><br/>
<ul>
<li>
<code>ARGDECL</code>
</li>
<li>
<code>PROTOTYPE</code>
</li>
</ul>
</li>
<li id="sec-1.3"><span class="done DONE"> DONE</span> Regenerate all the .c files from the .em files to remove <code>eul_const</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-08 Mon 14:37</span></span><br/>
</li>
<li id="sec-1.4"><span class="done DONE"> DONE</span> Remove <i>compat.h</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-08 Mon 22:54</span></span><br/>
when backward compatibility is no longer needed.
</li>
<li id="sec-1.5"><span class="done DONE"> DONE</span> Change all the <i>Makefiles</i> of all the <i>Modules</i> and <i>Examples</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-23 Tue 19:31</span></span><br/>
so that the libraries and executables are located in <i>platform/$(ARCH)</i>
or //Lib.$(ARCH)/ and //Bin.$(ARCH)/ directories.
</li>
<li id="sec-1.6"><span class="done DONE"> DONE</span> Investigate warning messages from <i>Examples/Misc/ffi2.c</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-08 Mon 22:54</span></span><br/>
Creating stand-alone application of module ffi2 &hellip;
Compiling <i>ffi2.c</i> using gcc &hellip;
//home/dm2/henry/EuLisp/youtoo/Examples/Misc/ffi2.c/: In function â€˜ff_stub_ext_foo_in
</li>
<li id="sec-1.7"><span class="todo TODO"> TODO</span> Resolve warning messages from ffi applications <br/>
by introducing an option to allow a header file declaring the ff's to be
included in the stubs files.
<ul>
<li id="sec-1.7.1">Add header-files including the ffi definitions to all the <i>Modules</i> libraries. <br/>
</li>
</ul>
</li>
<li id="sec-1.8"><span class="done DONE"> DONE</span> Investigate when <i>Lib.${ARCH}/*.i</i> should be copied to Lib <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-06 Thu 13:47</span></span><br/>
</li>
<li id="sec-1.9"><span class="done DONE"> DONE</span> Sort out the <i>Modules/Bignum/Makefile</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-23 Tue 19:31</span></span><br/>
Currently the linking of the gmp library is hard-coded.
</li>
<li id="sec-1.10"><span class="done DONE"> DONE</span> Upgrade the TclTk library to 8.5 <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-14 Sun 23:27</span></span><br/>
</li>
<li id="sec-1.11"><span class="done DONE"> DONE</span> Investigate problems with the <i>Modules/OS</i> (object serialisation) lib <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-23 Tue 19:30</span></span><br/>
</li>
<li id="sec-1.12"><span class="todo TODO"> TODO</span> Change the MPI interface to work with OpenMPI <br/>
</li>
<li id="sec-1.13"><span class="todo TODO"> TODO</span> <i>Comptime2/youtoo.em</i> sometimes ends-up in the wrong state <br/>
should be



<pre class="src src-lisp">(defmodule youtoo
<span style="color: #ff00ff; font-weight: bold;">;; </span><span style="color: #ff00ff;">Final, proper executable!
</span>(import (level1 math eval i-aux0 macros))

(main *argv*)

)  <span style="color: #ff00ff; font-weight: bold;">; </span><span style="color: #ff00ff;">end of module
</span></pre>


<p>
but sometimes remains in the intermediate build state
</p>


<pre class="src src-lisp">(defmodule youtoo
<span style="color: #ff00ff; font-weight: bold;">;; </span><span style="color: #ff00ff;">Preliminary executable!
</span>(import (level1 math eval))

(main *argv*)

)  <span style="color: #ff00ff; font-weight: bold;">; </span><span style="color: #ff00ff;">end of module
</span></pre>


<p>
during the boot-strap build.  The consequence is that the final executable
is unable to compile module files correctly issuing errors like
</p>


<pre class="src src-lisp">*** ERROR [nuseq][top-level]: exported lexical binding subseq not available
*** ERROR [nuseq][top-level]: no lexical binding defgeneric available
*** ERROR [nuseq][top-level]: no lexical binding subseq available
*** ERROR [nuseq][top-level]: no lexical binding seq available
</pre>


</li>
<li id="sec-1.17"><span class="done DONE"> DONE</span> Split the "boot" section of <i>Comptime2/Makefile</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-16 Tue 15:06</span></span><br/>
into the two parts to make the preliminary and final executables.
Also move the "driver" part into the top-level Makefile.
</li>
<li id="sec-1.18"><span class="todo TODO"> TODO</span> Change the <i>Modules/Pipe/test1.em app</i> <br/>
to obtain the path of the youtoo script from the global settings obtained
from the <i>.eulrc.${ARCH}</i> file.
</li>
<li id="sec-1.19"><span class="done DONE"> DONE</span> Clean all .em files <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-02-26 Fri 15:01</span></span><br/>
to remove blank line at beginning, tabs and trailing white-space.
</li>
<li id="sec-1.20"><span class="todo TODO"> TODO</span> Add support in the REPL to load dynamically-linked module libraries <br/>
</li>
<li id="sec-1.21"><span class="done DONE"> DONE</span> Add support for #;(sexp) comments in <i>Runtime/Ff/eul-ntok.c</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-23 Fri 22:44</span></span><br/>
</li>
<li id="sec-1.22"><span class="todo TODO"> TODO</span> Add line-number counting to <i>Runtime/Ff/eul-ntok.c</i> <br/>
This also requires the introduction of a line-number counting stream to hold
the line-number and provide access to the error reporting system.
</li>
<li id="sec-1.23"><span class="done DONE"> DONE</span> <code>read-error</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-01 Thu 21:31</span></span><br/>
Replace the use of <code>error</code> with <code>read-error</code> in <i>read.em</i>
</li>
<li id="sec-1.24"><span class="done DONE"> DONE</span> Change the handling of multiple-escape sequences in <i>eul-ntok.c</i> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-22 Thu 22:52</span></span><br/>
to correspond to the syntax for identifiers as described in the definition.
Currently the handling of multiple-escape sequences is a duplicate of the
handling for strings with all the special characters when the single escape
character should only be required to escape itself and the multiple-escape
character.
</li>
<li id="sec-1.25"><span class="done DONE"> DONE</span> Add <code>slice</code> generic function and methods <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-06 Thu 13:46</span></span><br/>
<code>slice</code> for string can a wrapper around substring already available
in Youtoo.
</li>
<li id="sec-1.26"><span class="todo TODO"> TODO</span> Add <code>slice</code> method for &lt;vector&gt; <br/>
</li>
<li id="sec-1.27"><span class="done DONE"> DONE</span> Add <code>reverse!</code> method for <code>&lt;string&gt;</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-27 Tue 12:25</span></span><br/>
Requires equivalent ff in eul-ext.c
</li>
<li id="sec-1.28"><span class="done DONE"> DONE</span> Sort out the syntax of character sequences <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-26 Mon 19:46</span></span><br/>
<ul>
<li>
There is a problem with the need for double escaping: #\\x000, #\\\ etc.
</li>
<li>
Hexadecimal sequences are hard-coded to 3 digits, if not where is the end?
</li>
<li>
How should the character '^' be written given that it is used to define
control sequences e.g. #^c ?  Perhaps #^ ?

</li>
<li id="sec-1.28.1">Proposed solution <br/>
To remove support for control sequences which are unusual,
system-dependent and can be created using hexadecimal characters.  Also
fix the number of hexadecimal digits for a character to 4 which is
sufficient to support unicode but also avoids parsing problems.
</li>
</ul>
</li>
<li id="sec-1.29"><span class="todo TODO"> TODO</span> Correct the echoing of complex characters <br/>
[user]: (print #\\\)
\
<ul>
<li>
#<br/>
</li>
</ul>
</li>
<li id="sec-1.30"><span class="done DONE"> DONE</span> Change the parser to map ='nil= to ='()= <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-09 Sun 21:06</span></span><br/>
so that (eq 'nil '()) =&gt; t
</li>
<li id="sec-1.31"><span class="done DONE"> DONE</span> (eql 3.0 3.0) should return t but it returns () <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-10 Mon 21:50</span></span><br/>
</li>
<li id="sec-1.32"><span class="done DONE"> DONE</span> Change <code>equal</code> methods to <code>binary=</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-10 Mon 22:05</span></span><br/>
</li>
<li id="sec-1.33"><span class="done DONE"> DONE</span> Replace <code>equal</code> with <code>binary=</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-12 Wed 22:57</span></span><br/>
Remove the <code>equal</code> generic function and methods and introduce a complete set
of <code>binary=</code> methods.  The only difference between the definition of <code>equal</code>
and <code>binary=</code> is the latter applies type coercion whereas <code>equal</code> was
defined not two.  If this property is an important feature <code>equal</code> could be
reinstated as a function wrapper around <code>binary=</code> which does a
type-consistency check.

</li>
<li id="sec-1.34"><span class="todo TODO"> TODO</span> Complete the renaming of predicates? and destructive! functions <br/>
All predicates ending in "-p" have been transformed and the functions
"null?" and "atom?" added but the predicates ending in "p" have yet to be
updated.
</li>
</ul>
</div>

</div>

<div id="outline-container-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> EuLisp Definition </h2>
<div class="outline-text-2" id="text-2">

<ul>
<li id="sec-2.1"><span class="todo TODO"> TODO</span> Update EuLisp definition and Youtoo implementation <br/>
to correspond to the EuLisp-1.0 proposals.
See <a href="Doc/EuLisp-0.991/Proposals/Proposals.txt">proposal document</a>.
</li>
<li id="sec-2.2"><span class="todo TODO"> TODO</span> Undefined references [34/41] <br/>
<ul>
<li>
<b>[X]</b> class:abstract-class
</li>
<li>
<b>[X]</b> class:character-sequence
</li>
<li>
<b>[X]</b> class:collection
</li>
<li>
<b>[X]</b> class:condition-class
</li>
<li>
<b>[X]</b> class:&lt;function&gt;
</li>
<li>
[-] class:function-class
</li>
<li>
[-] class:hash-table
</li>
<li>
<b>[X]</b> class:list
</li>
<li>
<b>[X]</b> class:metaclass
</li>
<li>
[-] class:method
</li>
<li>
<b>[X]</b> class:name
</li>
<li>
<b>[X]</b> class:sequence
</li>
<li>
[-] class:simple-class
</li>
<li>
[-] class:simple-function
</li>
<li>
[-] class:simple-method
</li>
<li>
[-] class:simple-thread
</li>
<li>
<b>[X]</b> class:super-class
</li>
<li>
<b>[X]</b> condition:condition
</li>
<li>
<b>[X]</b> condition:no-converter
</li>
<li>
<b>[X]</b> condition:methods-exists
</li>
<li>
<b>[X]</b> condition:read-error
</li>
<li>
<b>[X]</b> defform:defmacro
</li>
<li>
<b>[X]</b> defform:defun
</li>
<li>
<b>[X]</b> function:eq
</li>
<li>
<b>[X]</b> function:eql
</li>
<li>
<b>[X]</b> function:end-of-stream
</li>
<li>
<b>[X]</b> function:fill-buffer
</li>
<li>
<b>[X]</b> function:=
</li>
<li>
<b>[X]</b> generic:binary&lt;
</li>
<li>
<b>[X]</b> generic:binary=
</li>
<li>
<b>[X]</b> generic:eql
</li>
<li>
<b>[X]</b> generic:eq|
</li>
<li>
<b>[X]</b> generic:equal
</li>
<li>
<b>[X]</b> generic:generic-prin
</li>
<li>
<b>[X]</b> generic:method
</li>
<li>
<b>[X]</b> generic:mod
</li>
<li>
<b>[X]</b> generic:read
</li>
<li>
<b>[X]</b> keyword:accessor
</li>
<li>
<b>[X]</b> keyword:export
</li>
<li>
<b>[X]</b> setter:method-function
</li>
<li>
<b>[X]</b> syntax:unquote-splice
</li>
</ul>
</li>
<li id="sec-2.3"><span class="todo TODO"> TODO</span> Add entry for the <code>&lt;method&gt;</code> class in Level-1 <br/>
</li>
<li id="sec-2.4"><span class="todo TODO"> TODO</span> Add details of the <code>&lt;hash-table&gt;</code> class and functions <br/>
</li>
<li id="sec-2.5"><span class="todo TODO"> TODO</span> Update stream module <br/>
to corresponding to the Youtoo implementation.
</li>
<li id="sec-2.6"><span class="done DONE"> DONE</span> Add descriptions of constants to "Layout and Typography" <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-01 Thu 12:16</span></span><br/>
in structure.tex.  Include details of constant instances of classes and
constant bindings to classes (class aliases).
</li>
<li id="sec-2.7"><span class="todo TODO"> TODO</span> &lt;thread&gt; vs &lt;abstract-thread&gt; <br/>
Sort out the difference between the EuLisp definition and the Youtoo
implementation with respect to the name of the abstract base-class for
threads.  In the definition it is <code>&lt;thread&gt;</code> whereas in Youtoo it is
<code>&lt;abstract-thread&gt;</code> and <code>&lt;thread&gt;</code> is used for the currently used thread
type.
</li>
<li id="sec-2.8"><span class="done DONE"> DONE</span> Reformat the <code>defgeneric</code> rewrite rules to conform to the others <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-23 Fri 08:39</span></span><br/>
</li>
<li id="sec-2.9"><span class="done DONE"> DONE</span> Consider reformatting all of the rewrite rules <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-23 Fri 08:40</span></span><br/>
to be more consistent with the syntax description.
</li>
<li id="sec-2.10"><span class="todo TODO"> TODO</span> Add the return type to the syntax descriptions <br/>
</li>
<li id="sec-2.11"><span class="todo TODO"> TODO</span> Add "signatures" to all function descriptions <br/>
</li>
<li id="sec-2.12"><span class="todo TODO"> TODO</span> Change macro definitions to special operators <br/>
It doesn't seem sensible to effectively specify that certain syntax MUST be
implemented as macros; surely this decision should be taken by the
implementers and for efficiency reasons it might be preferable that more of
the special operators are implemented as primitives of the language.
</li>
<li id="sec-2.13"><span class="todo TODO"> TODO</span> Finish the "Lexical Syntax" section <br/>
Provide a bit more background information.
</li>
<li id="sec-2.14"><span class="todo TODO"> TODO</span> Introduce the "Special Forms" list is <i>modules.tex</i> <br/>
Or move this list to a more appropriate place, <i>e.g.</i> at the beginning of
the section concerning "special forms".
</li>
<li id="sec-2.15"><span class="todo TODO"> TODO</span> Introduce the "Level-1" library and describe "module-1" <br/>
</li>
<li id="sec-2.16"><span class="todo TODO"> TODO</span> Re-reference definitions in the "Level-1" library <br/>
so that they do not clash with those in the "Level-0" library.
</li>
<li id="sec-2.17"><span class="todo TODO"> TODO</span> Remove the "syntax-category" entries from the index <br/>
</li>
<li id="sec-2.18"><span class="todo TODO"> TODO</span> Add <code>slice</code> generic function and methods <br/>
</li>
<li id="sec-2.19"><span class="done DONE"> DONE</span> Add destructive <code>&lt;sequence&gt;</code> generic functions <code>sort!</code> and <code>reverse!</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-04-27 Tue 22:48</span></span><br/>
Check for other <code>&lt;sequence&gt;</code> methods which should destructive variants.
</li>
<li id="sec-2.20"><span class="done DONE"> DONE</span> Clarify the wording concerning the relationship between <code>nil</code> and <code>()</code> <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-09 Sun 21:09</span></span><br/>
State that (eq 'nil '()) ==&gt; t.
*** DONE Replace =equal= with =binary==
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-05-14 Fri 14:30</span></span><br/>
Remove the <code>equal</code> generic function and methods and introduce a complete set
of <code>binary=</code> methods.
</li>
<li id="sec-2.22"><span class="done DONE"> DONE</span> Change naming convention for predicates? and destructive! functions <br/>
<span class="timestamp-wrapper"><span class="timestamp-kwd">CLOSED: </span> <span class="timestamp">2010-06-09 Wed 10:46</span></span><br/>
There is a suggestion in the definition documents suggesting that the
Scheme/T naming convention for predicates (end in ?) and destructive
functions (end in !) should be considered for EuLisp.  I agree with this
suggestion to improve consistency and readability and made the corresponding
changes including "null" -&gt; "null?" and "atom" -&gt; "atom?".
</li>
</ul>
</div>
</div>
<div id="postamble">
<p class="date"> Date: 2010-06-10 22:36:13 BST</p>
<p class="creator">HTML generated by org-mode 6.34trans in emacs 23</p>
</div>
</div>
</body>
</html>
