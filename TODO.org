#                            -*- mode: org; -*-
#
#+TITLE:                         *TODO*
#+AUTHOR: nil
#+OPTIONS: author:nil email:nil ^:{}

* Youtoo
*** DONE Split of word-length dependent functionality into separate modules
    CLOSED: [2010-02-23 Tue 19:31]
    Split files
    + /Comptime2/64bit/cg-exec.em/
    + /Comptime2/32bit/cg-exec.em/
    Into
    + /Comptime2/cg-exec.em/
    + /Comptime2/64bit/cg-exec-nbit.em/
    + /Comptime2/32bit/cg-exec-nbit.em/
*** DONE Regenerate all the .c files from the .em files to remove
    CLOSED: [2010-02-08 Mon 10:14]
    + =ARGDECL=
    + =PROTOTYPE=
*** DONE Regenerate all the .c files from the .em files to remove =eul_const=
    CLOSED: [2010-02-08 Mon 14:37]
*** DONE Remove /compat.h/
    CLOSED: [2010-02-08 Mon 22:54]
    when backward compatibility is no longer needed.
*** DONE Change all the /Makefiles/ of all the /Extras/ and /Examples/
    CLOSED: [2010-02-23 Tue 19:31]
    so that the libraries and executables are located in /platform/$(ARCH)/
    or //Lib.$(ARCH)/ and //Bin.$(ARCH)/ directories.
*** DONE Investigate warning messages from /Examples/Misc/ffi2.c/
    CLOSED: [2010-02-08 Mon 22:54]
    Creating stand-alone application of module ffi2 ...
    Compiling /ffi2.c/ using gcc ...
    //home/dm2/henry/EuLisp/youtoo/Examples/Misc/ffi2.c/: In function â€˜ff_stub_ext_foo_in
*** TODO Resolve warning messages from ffi applications
    by introducing an option to allow a header file declaring the ff's to be
    included in the stubs files.
***** Add header-files including the ffi definitions to all the /Extras/ libraries.
*** DONE Investigate when /Lib.${ARCH}/*.i/ should be copied to Lib
    CLOSED: [2010-05-06 Thu 13:47]
*** DONE Sort out the /Extras/Bignum/Makefile/
    CLOSED: [2010-02-23 Tue 19:31]
    Currently the linking of the gmp library is hard-coded.
*** DONE Upgrade the TclTk library to 8.5
    CLOSED: [2010-02-14 Sun 23:27]
*** DONE Investigate problems with the /Extras/OS/ (object serialisation) lib
    CLOSED: [2010-02-23 Tue 19:30]
*** TODO Change the MPI interface to work with OpenMPI
*** TODO /Comptime2/youtoo.em/ sometimes ends-up in the wrong state
    should be
    #+BEGIN_SRC lisp
      (defmodule youtoo
      ;; Final, proper executable!
      (import (level1 math eval i-aux0 macros))

      (main *argv*)

      )  ; end of module
    #+END_SRC
    but sometimes remains in the intermediate build state
    #+BEGIN_SRC lisp
      (defmodule youtoo
      ;; Preliminary executable!
      (import (level1 math eval))

      (main *argv*)

      )  ; end of module
    #+END_SRC
    during the boot-strap build.  The consequence is that the final executable
    is unable to compile module files correctly issuing errors like
    #+BEGIN_SRC lisp
      *** ERROR [nuseq][top-level]: exported lexical binding subseq not available
      *** ERROR [nuseq][top-level]: no lexical binding defgeneric available
      *** ERROR [nuseq][top-level]: no lexical binding subseq available
      *** ERROR [nuseq][top-level]: no lexical binding seq available
    #+END_SRC
*** DONE Split the "boot" section of /Comptime2/Makefile/
    CLOSED: [2010-02-16 Tue 15:06]
    into the two parts to make the preliminary and final executables.
    Also move the "driver" part into the top-level Makefile.
*** TODO Change the /Extras/Pipe/test1.em app/
    to obtain the path of the youtoo script from the global settings obtained
    from the /.eulrc.${ARCH}/ file.
*** DONE Clean all .em files
    CLOSED: [2010-02-26 Fri 15:01]
    to remove blank line at beginning, tabs and trailing white-space.
*** TODO Add support in the REPL to load dynamically-linked module libraries
*** DONE Add support for #;(sexp) comments in /Runtime/Ff/eul-ntok.c/
    CLOSED: [2010-04-23 Fri 22:44]
*** TODO Add line-number counting to /Runtime/Ff/eul-ntok.c/
    This also requires the introduction of a line-number counting stream to hold
    the line-number and provide access to the error reporting system.
*** DONE =read-error=
    CLOSED: [2010-04-01 Thu 21:31]
    Replace the use of =error= with =read-error= in /read.em/
*** DONE Change the handling of multiple-escape sequences in /eul-ntok.c/
    CLOSED: [2010-04-22 Thu 22:52]
    to correspond to the syntax for identifiers as described in the definition.
    Currently the handling of multiple-escape sequences is a duplicate of the
    handling for strings with all the special characters when the single escape
    character should only be required to escape itself and the multiple-escape
    character.
*** DONE Add =slice= generic function and methods
    CLOSED: [2010-05-06 Thu 13:46]
    =slice= for string can a wrapper around substring already available
    in Youtoo.
*** TODO Add =slice= method for <vector>
*** DONE Add =reverse!= method for =<string>=
    CLOSED: [2010-04-27 Tue 12:25]
    Requires equivalent ff in eul-ext.c
*** DONE Sort out the syntax of character sequences
    CLOSED: [2010-04-26 Mon 19:46]
    + There is a problem with the need for double escaping: #\\x000, #\\\ etc.
    + Hexadecimal sequences are hard-coded to 3 digits, if not where is the end?
    + How should the character '^' be written given that it is used to define
      control sequences e.g. #\^c ?  Perhaps #\\^ ?

***** Proposed solution
      To remove support for control sequences which are unusual,
      system-dependent and can be created using hexadecimal characters.  Also
      fix the number of hexadecimal digits for a character to 4 which is
      sufficient to support unicode but also avoids parsing problems.
*** TODO Correct the echoing of complex characters
      [user]: (print #\\\)
      \
      - #\\
*** TODO Add =binary= for <character> <character>
    Needed by =vmeta=.
*** DONE Change the parser to map ='nil= to ='()=
    CLOSED: [2010-05-09 Sun 21:06]
    so that (eq 'nil '()) => t

* EuLisp Definition
*** TODO Update EuLisp definition and Youtoo implementation
    to correspond to the EuLisp-1.0 proposals.
    See [[file:Doc/EuLisp-0.991/Proposals/Proposals.txt][proposal document]].
*** TODO Undefined references [34/41]
    + [X] class:abstract-class
    + [X] class:character-sequence
    + [X] class:collection
    + [X] class:condition-class
    + [X] class:<function>
    + [-] class:function-class
    + [-] class:hash-table
    + [X] class:list
    + [X] class:metaclass
    + [-] class:method
    + [X] class:name
    + [X] class:sequence
    + [-] class:simple-class
    + [-] class:simple-function
    + [-] class:simple-method
    + [-] class:simple-thread
    + [X] class:super-class
    + [X] condition:condition
    + [X] condition:no-converter
    + [X] condition:methods-exists
    + [X] condition:read-error
    + [X] defform:defmacro
    + [X] defform:defun
    + [X] function:eq
    + [X] function:eql
    + [X] function:end-of-stream
    + [X] function:fill-buffer
    + [X] function:=
    + [X] generic:binary<
    + [X] generic:binary=
    + [X] generic:eql
    + [X] generic:eq|
    + [X] generic:equal
    + [X] generic:generic-prin
    + [X] generic:method
    + [X] generic:mod
    + [X] generic:read
    + [X] keyword:accessor
    + [X] keyword:export
    + [X] setter:method-function
    + [X] syntax:unquote-splice
*** TODO Add entry for the =<method>= class in Level-1
*** TODO Add details of the =<hash-table>= class and functions
*** TODO Update stream module
    to corresponding to the Youtoo implementation.
*** DONE Add descriptions of constants to "Layout and Typography"
    CLOSED: [2010-04-01 Thu 12:16]
    in structure.tex.  Include details of constant instances of classes and
    constant bindings to classes (class aliases).
*** TODO <thread> vs <abstract-thread>
    Sort out the difference between the EuLisp definition and the Youtoo
    implementation with respect to the name of the abstract base-class for
    threads.  In the definition it is =<thread>= whereas in Youtoo it is
    =<abstract-thread>= and =<thread>= is used for the currently used thread
    type.
*** DONE Reformat the =defgeneric= rewrite rules to conform to the others
    CLOSED: [2010-04-23 Fri 08:39]
*** DONE Consider reformatting all of the rewrite rules
    CLOSED: [2010-04-23 Fri 08:40]
    to be more consistent with the syntax description.
*** TODO Add the return type to the syntax descriptions
*** TODO Add "signatures" to all function descriptions
*** TODO Change macro definitions to special operators
    It doesn't seem sensible to effectively specify that certain syntax MUST be
    implemented as macros; surely this decision should be taken by the
    implementers and for efficiency reasons it might be preferable that more of
    the special operators are implemented as primitives of the language.
*** TODO Finish the "Lexical Syntax" section
    Provide a bit more background information.
*** TODO Introduce the "Special Forms" list is /modules.tex/
    Or move this list to a more appropriate place, /e.g./ at the beginning of
    the section concerning "special forms".
*** TODO Introduce the "Level-1" library and describe "module-1"
*** TODO Re-reference definitions in the "Level-1" library
    so that they do not clash with those in the "Level-0" library.
*** TODO Remove the "syntax-category" entries from the index
*** TODO Add =slice= generic function and methods
*** DONE Add destructive =<sequence>= generic functions =sort!= and =reverse!=
    CLOSED: [2010-04-27 Tue 22:48]
    Check for other =<sequence>= methods which should destructive variants.
*** TODO Add =binary= for <character> <character>
*** DONE Clarify the wording concerning the relationship between =nil= and =()=
    CLOSED: [2010-05-09 Sun 21:09]
    State that (eq 'nil '()) => t.
